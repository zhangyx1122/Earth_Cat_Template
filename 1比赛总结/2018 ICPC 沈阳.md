# 2018 ICPC 沈阳

## AC 3/13  目标：4~5 / 13

[传送门](https://codeforces.com/gym/101955)

**赛后补题目标** ：

G - Best ACMer Solves the Hardest Problem 

L -  Machining Disc Rotors（已）

---

### WA：

J : 输入里面有空格，读入没处理好（

C : 爆longlong

L :  漏了小圆在大圆中的情况；不同的判断直径方法不知道为什么wa（

---

高中数学，为什么一个方程会解这么久（

人出的实在多的题大家都读一读讨论下问题（

---

## 需学习的知识点：



----

# ~

## J

模拟

这题输入里的空格和各种隐式符号有点恶心，



## K - Let the Flames Begin

**题意 ：**约瑟夫问题，n个人围成一个圈报数，到k的出去，问第m个出去的人的编号

$1 \leq n, m, k \leq 1^{18}，min(m,k) <= 2e6$ 



当m <= k 时，我们直接从f(n - m + 1 , 1)开始递推即可，题中数据保证这样不会超时；

当m > k时，这个k可能远小于n，也就是取模操作困难隔很久才一次，所以我们可以根据这个加速递推。设c轮过后会取模，那么有f(a,b) + c * k >= a  =>  c >= (a - f(a,b)) / k，

## C - Insertion Sort

**题意 ：** 输入n，k，p，输出满足以下条件的n的全排列有多少种（mod p）：进行k轮或者小于k轮排序后，能使这个序列的逆序数为0

**公式：**$solve(n,k) = k! * (1+(n-1) * (n-k))$



## L - Machining Disc Rotors

**题意 ：**计算几何，给出一个圆心在原点的圆用n个圆去切他，问剩余图形上的点最远距离是多少，保证n个圆不想交，$n \leq 100$

于是就变成枚举交点（这里解方程解了有点久...

还要特判直径能不能达到，用的判断方法要把完全被大圆包含的小圆skip掉（



 

## G - Best ACMer Solves the Hardest Problem

**题意 ：**给平面上的点和权值，有4种操作：
1 x y w，在xy处插入权值为w的点保证操作前xy没点
2 x y，删除xy处的点，保证操作前有点
3 x y k w，将x y点为圆心，根号k为半径的圆上的点权值+k
4 x y k，求 x y点为圆心，根号k为半径的圆上的点权值和

强制在线，下一次操作的坐标要用最近一次询问的结果计算



有个条件没看到以为空间会炸（



圆上整数点比较少可以暴力（

打出1e7里每个数字可以有哪些（x，y），x2+y2等于这个数，然后每个点找距离根号k的点的时候，就四个方向找一下，用set存来去重（某个点某维坐标变成0的时候，会有重复的）